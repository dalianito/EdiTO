<?xml version="1.0" encoding="UTF-8"?>
<init-conf id="server">
	<load-class name="com.ito.fai.init.InitializeLog">
		<invoke-method name="addLog">
			<param name="name" value="ejb" />
			<param name="options" type="dictionary" value="level=debug;pattern=%d{yyyy-MM-dd HH:mm:ss}%X{user} %-5p [%t]: %m%n;file=/ito/ejb.log;rolling-type=time;rolling-threshold=-1;" />
		</invoke-method>
		<invoke-method name="addLog">
			<param name="name" value="server" />
			<param name="options" type="dictionary" value="level=debug;pattern=%d{yyyy-MM-dd HH:mm:ss}%X{user} %-5p [%t]: %m%n;file=/ito/server.log;rolling-type=time;rolling-threshold=-1;" />
		</invoke-method>
	</load-class>
	<load-class name="com.ito.fai.init.InitializeConstant" reload="true">
		<invoke-method name="addConstant">
			<param name="file" value="constant.xml" />
		</invoke-method>
	</load-class>
    <load-class name="com.ito.fai.init.InitializeJndi" reload="true">
		<invoke-method name="addContext">
			<param name="ctx" value="queueContext" />
			<param name="env" type="dictionary" value="java.naming.provider.url=jnp://127.0.0.1:1099;java.naming.factory.initial=org.jnp.interfaces.NamingContextFactory;java.naming.factory.url.pkgs=org.jboss.naming:org.jnp.interfaces;" />
		</invoke-method>
		<invoke-method name="addContext">
			<param name="ctx" value="dmContext" />
			<param name="env" type="dictionary" value="java.naming.provider.url=jnp://127.0.0.1:1099;java.naming.factory.initial=org.jnp.interfaces.NamingContextFactory;java.naming.factory.url.pkgs=org.jboss.naming:org.jnp.interfaces;" />
		</invoke-method>
		<invoke-method name="addContext">
			<param name="ctx" value="ejbContext" />
			<param name="env" type="dictionary" value="java.naming.provider.url=jnp://127.0.0.1:1099;java.naming.factory.initial=org.jnp.interfaces.NamingContextFactory;java.naming.factory.url.pkgs=org.jboss.naming:org.jnp.interfaces;" />
		</invoke-method>
		<invoke-method name="addReference">
			<param name="file" value="reference.xml" />
		</invoke-method>
	</load-class>
	<load-class name="com.ito.fai.init.InitializeIdp">
		<invoke-method name="loadClass">
			<param name="file" value="class.xml" />
			<param name="xsd" value="/com/ito/fai/idp/core/cls.xml" />
			<param name="interval" type="int" value="10" />
		</invoke-method>
		<invoke-method name="addDatabase">
			<param name="name" type="list" value="default;"/>
			<param name="dbConfig" type="dictionary" value="default=jdo-conf.xml;" />
		</invoke-method>
		<invoke-method name="loadMaxUuid">
			<param name="className" value="Base" />
		</invoke-method>
	</load-class>
</init-conf>
